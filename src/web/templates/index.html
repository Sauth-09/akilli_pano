<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ school_name }} - AkÄ±llÄ± Pano</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='logo.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="perf-{{ data.performance_mode if data.performance_mode else 'high' }}">
    <!-- Custom Context Menu -->
    <div id="custom-context-menu" class="context-menu">
        <div class="menu-item" id="menu-fullscreen">
            <i class="fas fa-expand"></i> Tam Ekran
        </div>
        <div class="menu-item" id="menu-settings">
            <i class="fas fa-cog"></i> Ayarlar
        </div>
    </div>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo-container">
                <img src="{{ logo_url }}" alt="Okul Logosu" class="logo">
            </div>
            <div class="school-title-container">
                <h1>{{ school_name }}</h1>
            </div>
            <div class="date-time">
                <div id="date">01.01.2023</div>
                <div id="clock">00:00</div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div id="slideshow-container">
                <div id="loading-message">YÃ¼kleniyor...</div>
                <img id="slide-img" src="" style="display: none;">
                <video id="slide-video" src="" style="display: none;" muted autoplay></video>
            </div>
        </main>

        <!-- Left Sidebar -->
        <aside class="sidebar-left">
            {% for item in layout %}
                {% if item.visible and item.type in ['status', 'duty', 'quote'] %}
                    
                    {% if item.type == 'status' %}
                    <div class="card status-card" id="{{ item.id }}">
                        <h2>ğŸ”” {{ item.title }}</h2>
                        <div id="current-status" class="status-text">YÃ¼kleniyor...</div>
                    </div>

                    {% elif item.type == 'duty' %}
                    <div class="card duty-card" id="{{ item.id }}">
                        <h2>ğŸ‘¨â€ğŸ« {{ item.title }}</h2>
                        <ul id="duty-list">
                            <li>YÃ¼kleniyor...</li>
                        </ul>
                    </div>

                    {% elif item.type == 'quote' %}
                    <div class="card message-card" id="{{ item.id }}">
                        <h2>ğŸ“¢ {{ item.title }}</h2>
                        <div id="daily-message" class="message-text">...</div>
                    </div>
                    {% endif %}

                {% endif %}
            {% endfor %}
        </aside>

        <!-- Right Sidebar -->
        <aside class="sidebar-right">
             {% for item in layout %}
                {% if item.visible and item.type in ['countdown', 'birthdays', 'classes'] %}

                    {% if item.type == 'countdown' %}
                    <div class="card countdown-card" id="{{ item.id }}">
                        <h2>â³ {{ item.title }}</h2>
                        <div id="countdown" class="countdown-text">...</div>
                    </div>
                    
                    {% elif item.type == 'birthdays' %}
                    <!-- Dynamic Birthday Container -->
                    <div id="birthday-container-wrapper" style="margin-bottom: 20px;">
                         <div id="birthday-container-hook" data-title="{{ item.title }}"></div>
                    </div>
                    
                    {% elif item.type == 'classes' %}
                    <!-- Dynamic Classes Container -->
                    <div id="class-status-list-wrapper">
                         <h2 style="margin-top: 20px; border-bottom: 2px solid #fff;">ğŸ« {{ item.title }}</h2>
                         <ul id="class-status-list" class="info-list">
                             <li>YÃ¼kleniyor...</li>
                         </ul>
                    </div>
                    {% endif %}

                {% endif %}
            {% endfor %}
        </aside>

        <!-- Footer (Scrolling Layout) -->
        <footer class="footer">
            <div class="marquee-content" id="footer-marquee" style="
                animation-duration: {{ data.marquee.duration if data.marquee else '30' }}s;
                font-size: {{ data.marquee.font_size if data.marquee else '1.2' }}rem;
                color: {{ data.marquee.color if data.marquee else '#2c3e50' }};
                font-family: {{ data.marquee.font_family if data.marquee else 'inherit' }};
            ">
                {{ data.messages | join('   â€¢   ') if data.messages else 'AkÄ±llÄ± Okul Panosu Sistemine HoÅŸgeldiniz' }}
            </div>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
